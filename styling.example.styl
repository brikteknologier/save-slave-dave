.saveable-bubble
  position absolute
  z-index 2
  background-color #2187f7
  transition all 0.2s ease-out
  width 40px
  height 40px
  left 50%
  margin-left (@width / 2 * -1)
  border-radius 20px
  margin-top 10px
  box-shadow 0px 5px 20px rgba(0,0,0,0.8)
  opacity 0
  transform scale(0.1, 0.1) 
  pointer-events none
  cursor auto
  bottom -50px

  &.focus-out
    bottom 50%
    margin-bottom (@height / 2 * -1)
    margin-top 0px
    transform scale(0.7, 0.7) translate(0px, 30%) !important

    &:after
      display none

  &.has-focus
    cursor pointer
    transform scale(1, 1) translate(0px, 0px)
    opacity 1
    pointer-events auto

  &:before
    content ''
    display block
    position absolute
    left 9px
    top -6px
    border-left 11px solid rgba(0,0,0,0)
    border-right 11px solid rgba(0,0,0,0)
    border-bottom 9px solid #2187f7
    transition @transition

  &:after
    content 'Save'
    display block
    width 100px
    pointer-events none
    position absolute
    top (@height / 2 - 10px)
    height 20px
    left 50px
    text-transform uppercase
    color #fafdf2
    font-weight bold
    font-size 14px
    transform translate(10px, 0px)
    opacity 0
    transition all 0.2s ease-out

  &:hover:after
  &.show-hint:after
    transform translate(0, 0)
    opacity 1
  
  &.state-saving
  &.state-success
  &.state-error
    &:after
      transform translate(0, 0)
      opacity 1

  &.state-saving:after
    content 'Saving...'
  &.state-success:after
    content 'Saved!'
  &.state-error:after
    content 'Save failed'


  .icon-ok
  .icon-save
  .icon-spinner
  .icon-remove
    display none
    position absolute
    font-size 24px
    width 40px
    height 40px
    line-height 40px
    pointer-events none
    text-align center
    color #fafdf2

  &.state-saving, &.state-success, &.state-error
    transform scale(1.3)
    &:before
      opacity 0

  set-background(color)
    background-color color
    &:before
      border-bottom 9px solid color
    &:after
      color color

  &.state-active .icon-save
    display block

  &.state-saving 
    set-background(#e8e642)
    .icon-spinner
      display block

  &.state-success 
    set-background(#94b73e)
    .icon-ok
      display block

  &.state-error 
    set-background(#f83531)
    .icon-remove
      display block


